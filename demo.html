<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Isotope Filter</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.0/gsap.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="ourserices.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Plugin CSS -->
    <link rel="stylesheet" href="index.css"> <!-- Update this with the actual CSS path -->

    <!-- Plugin JS -->
    <script src="jquery.anyimagecomparisonslider.min.js"></script> <!-- Update this with the actual JS path -->
    <style>
        /* Custom styles */
        body { font-family: Arial, sans-serif; margin: 20px; padding: 0; }
        .grid { display: flex; flex-wrap: wrap; gap: 10px; }
        .grid-item { width: calc(33.333% - 10px); position: relative; }
        .grid-item img { width: 100%; height: auto; display: block; border-radius: 5px; }

        /* Overlay styles */
        #comparison-overlay {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(0, 0, 0, 0.8); display: flex; justify-content: center; align-items: center; z-index: 999;
        }
        #comparison-overlay.hidden { display: none; }
        #example { width: 80%; max-width: 800px; height: 80%; background: #fff; border-radius: 8px; overflow: hidden; }
        #close-overlay { position: absolute; top: 20px; right: 20px; padding: 10px 15px; font-size: 16px; cursor: pointer; background: red; color: white; border: none; border-radius: 5px; }
        #example .images { position: relative; }
        #example .image-lft, #comparison-slider .image-rgt { background-size: cover; background-position: center; height: 100%; width: 50%; }
    </style>
</head>
<body>
    <!-- Filter Buttons (optional) -->
    <div class="grid">
        <!-- Example grid item -->
        <div class="grid-item">
            <img src="assets/HDR/IMG_0153.jpg" alt="Before Image" />
        </div>
        <!-- Add more grid items as needed -->
    </div>

    <!-- Comparison Overlay -->
    <div id="comparison-overlay" class="hidden">
        <div id="example">
            <div class="images">
                <div class="image-lft" data-src="assets/HDR/IMG_0153.jpg"></div>
                <div class="image-rgt" data-src="assets/HDR/IMG_0153-1.jpg"></div>
            </div>
            <button id="close-overlay">Close</button>
        </div>
    </div>

    <script>
       $(document).ready(function () {
    // Initialize Isotope and the comparison slider on page load
    $('#comparison-slider').anyImageComparisonSlider({
        orientation: 'horizontal',
        initialPosition: 0.5,
        width: '100%',
        backgroundColor: 'none',
        interactive: true,
        autoAnimation: true,
        autoAnimationSpeed: 8,
        autoAnimationPause: 1,
        autoAnimationEasing: 'inOutCubic',
        dividingLine: 'solid 2px #000',
        cursor: 'ew-resize',
    });

    // On grid item click, open the overlay with updated images
    $('.grid').on('click', '.grid-item', function () {
        var clickedImage = $(this).find('img').attr('src');
        var beforeImage = clickedImage;
        var afterImage = clickedImage.replace('.jpg', '-1.jpg');

        // Set the before and after images dynamically
        $('#comparison-slider .image-lft').attr('data-src', beforeImage);
        $('#comparison-slider .image-rgt').attr('data-src', afterImage);

        // Show the overlay
        $('#comparison-overlay').removeClass('hidden');

        // Reinitialize the comparison slider every time the overlay is shown
        $('#comparison-slider').anyImageComparisonSlider({
            orientation: 'horizontal',
            initialPosition: 0.5,
            width: '100%',
            interactive: true,
        });
    });

    // Close the overlay when the close button is clicked
    $('#close-overlay').on('click', function () {
        $('#comparison-overlay').addClass('hidden');
    });
});

    </script>
</body>
</html>
